<div class="animated fadeIn">
  <div class="row">
    <div class="col-sm-12">
      <div class="margin-20">
        <div class="judul">
          <h4>Tambahkan Kontingen</h4>
            <!-- <div class="row col-md-6">
            <div class="form-group">
              <label for="sel1">Cabang:</label>
              <select class="form-control" id="sel1">
              <option>putra</option>
              <option>putri</option>
              </select>
            </div>
            </div> -->
        </div>
      </div>
<!--   <button type="button" (click)="test()" class="btn btn-primary">test jwt</button>  -->
      <form [formGroup]="myForm" novalidate >
        <div class="panel panel-default">
          <div class="animated fadeIn">
            <div class="card">
              <div class="card-header">
                <div class="row">
                  <div class="col-md-6">
                    <b>Kontingen</b>
                  </div>
                </div>
              </div>
              <div class="card-block">
                <!-- <app-kontingen [group]="myForm.controls.peserta.controls[i]"></app-kontingen> -->
                <div class="form-group col-xs-6">
                  <label>Nama</label>
                  <input type="text" class="form-control" formControlName="nama">
                  <small [hidden]="myForm.controls.nama.valid" class="text-danger">
                    Nama perlu diisi
                  </small>
                </div>

                <div class="form-group col-xs-6">
                  <label>NIM</label>
                  <input type="text" class="form-control" formControlName="nim">
                  <small [hidden]="myForm.controls.nim.valid" class="text-danger">
                    NIM perlu diisi
                  </small>
                </div>
                  
                <div class="form-group col-xs-6">
                  <label>No Hp</label>
                  <input type="text" class="form-control" formControlName="noHp" pattern='^\+?\d{0,13}'>
                  <small [hidden]="myForm.controls.noHp.valid" class="text-danger">
                    No hp harus valid 
                  </small>
                </div>                  
                
                <div class="row">
                  <div class="form-group col-xs-6">
                    <label>Photo & photoKTM</label>
                    <input type="file" (change)="fileChangeEvent($event)"  class="form-control" name="photo" accept="image/x-png,image/jpeg" multiple/>
                    <small [hidden]="fileValid" class="text-danger">
                        *Maximimum 3 MB &nbsp;
                        *Jpeg, jpg atau png. &nbsp;
                        *2 File yang harus diupload
                    </small>
                  </div>
                  
<!--                   <div class="form-group col-xs-6 col-md-6">
                    <label>Photo KTM</label>
                    <input type="file" (change)="fileChangeEvent($event)" class="form-control" placeholder="Upload file..." name="photoKtm" single />
                  </div>   -->                
                </div>                
                <div class="progress" *ngIf="submitted && uploadProgress!=100 " >
                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width]="(uploadProgress/100)*100 + '%'" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">{{uploadProgress}} %
                    </div>
                </div><br>
                <div class="margin-20">
                  <button type="submit" class="btn btn-primary pull-right" [disabled]="!myForm.valid && !fileValid" (click)="submit(); $event.preventDefault()">Submit</button>                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- tables -->
  <div class="row" *ngIf="listPeserta.toString().length>0">
    <div class="col-sm-12">
      <div class="card">
        <div class="card-header">
          <strong>Daftar Kontingen</strong>
        </div>
        <div class="card-block">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>No</th>
                <th>Nama</th>
                <th>NIM</th>
                <th>No Hp</th>
                <th>Foto</th>
                <th>Status</th>
              </tr>
            </thead>


            <tbody > 
              <tr *ngFor="let list of listPeserta; let i = index ">
                <td>{{ i+1 }}</td>
                <td>{{ list.mahasiswa.nama_mahasiswa }}</td>
                <td>{{ list.mahasiswa.NIM_mahasiswa }}</td>
                <td>{{ list.noHP_peserta}}</td>                
                <td>
                  <a href="javascript:void(0)" class="thumbnail">
                    <img class="img-thumbnail" src = {{list.album[0].src}} width="104" height="36" (click)="openHAHA(list.album,0 )">
                  </a>
                  <a href="javascript:void(0)" class="thumbnail">
                    <img class="img-thumbnail" src = {{list.album[1].src}} width="104" height="36" (click)="openHAHA(list.album,1)">
                  </a>                  
                </td>
                <td>  <span *ngIf="list.status_peserta==0" class="badge badge-warning">Uncheck</span>
                      <span *ngIf="list.status_peserta==1" class="badge badge-danger">Unverified</span>
                      <span *ngIf="list.status_peserta==2" class="badge badge-success">Verified</span>                      
                </td>
                <td>
<!--                   <span class="badge badge-success">Verified</span> -->
                  <span><a href="javascript:void(0)" (click)="delete(list.nim_mahasiswa)" >delete</a> </span>
                </td>
              </tr>
            </tbody>

<!--             <ng-template #elseBlock >
              <h5 style="text-align: center; color: red">*Belum ada peserta yang masuk</h5>
            </ng-template> -->
          </table>
        </div>
      </div>
    </div>
  </div>

</div>